<!-- message-item polymer custom element -->

<dom-module id="message-item">
  <template>
    <style>
      :host {
        /* CSS Variables */
        --error-color: rgb(187,40,40);
        --notification-color: rgb(166,166,166);

        display: block;
        font-size: 11pt;
      }

      .message {
        white-space: pre-wrap;
      }

      .message-wrapper {
        @apply(--layout-vertical);
      }

      .message-container {
        margin: 4px;
        padding: 7px;
        width: max-content;
        max-width: 60%;
        border-radius: 2px;
        background-color: rgb(233,233,233);
      }

      .message-container[is-owner] {
        @apply(--layout-self-end);
        background-color: var(--element-accent);
        color: var(--element-light-color);
      }

      .message-container[is-notification] {
        @apply(--layout-self-center);
        padding: 3px 7px;
        font-size: 9pt;
        color: var(--element-light-color);
        background-color: var(--notification-color);
      }

      .message-container[error] {
        background-color: var(--error-color);
      }

      .nick {
        margin-bottom: 5px;
        font-size: 10pt;
        font-weight: 600;
        color: rgb(138,138,138);
      }

      .message-container[is-owner] .nick {
        display: none;
      }

      .message-container[is-notification] .nick {
        display: none;
      }

      .error-container {
        @apply(--layout-self-end);
        /*display: none;*/
        margin: 3px;
        font-size: 9pt;
        color: rgb(0,0,0);
      }

    </style>

    <div class="message-wrapper">
      <div class="message-container" is-owner$="{{data.isOwner}}" is-notification$="{{data.userNotification}}">
        <div class="nick">[[data.nick]]</div>
        <div class="message">[[data.msg]]</div>
      </div>
      <div class="error-container" hidden$="{{!data.error}}">Sending failed</div>
    </div>

  </template>
  <script>
    Polymer({
      is: 'message-item',
      properties: {
        data: {
          type: Object
        }

        // TODO: Update this info
        /* data Schema
          {
            nick: 'sean',
            msg: 'hello world'
          }
         */

      }
    });
  </script>
</dom-module>
